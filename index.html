<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nosso Namoro ❤️</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <h1>Estamos juntos há</h1>
        <p id="contador">{{ dias }} dias</p>
        <img src="{{ url_for('static', filename='fotonossa.jpg') }}" alt="Foto do casal">
    </div>
    <div class="hearts">
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
        <div class="heart">❤️</div>
    </div>

    <!-- Injetando o valor de dias do Flask diretamente no JavaScript -->
    <script>
        // Pegando o valor de dias calculado no Flask
        const diasNoSite = {{ dias }};
        document.getElementById("contador").innerText = diasNoSite + " dias";

        // Função para estourar confetes
        function verificarData() {
            let hoje = new Date();
            let dia = hoje.getDate();
            if (dia === 9) {
                estourarConfete();
            }
        }

        function estourarConfete() {
            setTimeout(() => {
                confetti({
                    particleCount: 150,
                    spread: 120,
                    origin: { y: 0.7 }
                });
            }, 500);
        }

        window.onload = verificarData;
    </script>

    <!-- Incluindo o script de confete -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>
